import{_ as q,a as L,n as J,i as j,b as M,t as G,f as H,r as $,g as N,s as X,c as Y,d as E,S as Z,R as O,u as ee,e as te,p as re,h as b,j as _,k as se,l as m,m as I}from"./index.e9e7a360.js";var ne=function(r){q(i,r);function i(a,t){var e;return e=r.call(this)||this,e.client=a,e.options=t,e.trackedProps=[],e.selectError=null,e.bindMethods(),e.setOptions(t),e}var n=i.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),z(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return F(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return F(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(t,e){var u=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(t),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=u.queryKey),this.updateQuery();var c=this.hasListeners();c&&V(this.currentQuery,s,this.options,u)&&this.executeFetch(),this.updateResult(e),c&&(this.currentQuery!==s||this.options.enabled!==u.enabled||this.options.staleTime!==u.staleTime)&&this.updateStaleTimeout();var o=this.computeRefetchInterval();c&&(this.currentQuery!==s||this.options.enabled!==u.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)},n.getOptimisticResult=function(t){var e=this.client.defaultQueryObserverOptions(t),u=this.client.getQueryCache().build(this.client,e);return this.createResult(u,e)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(t,e){var u=this,s={},c=function(h){u.trackedProps.includes(h)||u.trackedProps.push(h)};return Object.keys(t).forEach(function(o){Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:function(){return c(o),t[o]}})}),(e.useErrorBoundary||e.suspense)&&c("error"),s},n.getNextResult=function(t){var e=this;return new Promise(function(u,s){var c=e.subscribe(function(o){o.isFetching||(c(),o.isError&&(t==null?void 0:t.throwOnError)?s(o.error):u(o))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(t){return this.fetch(L({},t,{meta:{refetchPage:t==null?void 0:t.refetchPage}}))},n.fetchOptimistic=function(t){var e=this,u=this.client.defaultQueryObserverOptions(t),s=this.client.getQueryCache().build(this.client,u);return s.fetch().then(function(){return e.createResult(s,u)})},n.fetch=function(t){var e=this;return this.executeFetch(t).then(function(){return e.updateResult(),e.currentResult})},n.executeFetch=function(t){this.updateQuery();var e=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(J)),e},n.updateStaleTimeout=function(){var t=this;if(this.clearStaleTimeout(),!(j||this.currentResult.isStale||!M(this.options.staleTime))){var e=G(this.currentResult.dataUpdatedAt,this.options.staleTime),u=e+1;this.staleTimeoutId=setTimeout(function(){t.currentResult.isStale||t.updateResult()},u)}},n.computeRefetchInterval=function(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1},n.updateRefetchInterval=function(t){var e=this;this.clearRefetchInterval(),this.currentRefetchInterval=t,!(j||this.options.enabled===!1||!M(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(e.options.refetchIntervalInBackground||H.isFocused())&&e.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0},n.clearRefetchInterval=function(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0},n.createResult=function(t,e){var u=this.currentQuery,s=this.options,c=this.currentResult,o=this.currentResultState,h=this.currentResultOptions,f=t!==u,v=f?t.state:this.currentQueryInitialState,g=f?this.currentResult:this.previousQueryResult,l=t.state,R=l.dataUpdatedAt,A=l.error,x=l.errorUpdatedAt,P=l.isFetching,d=l.status,k=!1,D=!1,p;if(e.optimisticResults){var w=this.hasListeners(),B=!w&&z(t,e),K=w&&V(t,u,e,s);(B||K)&&(P=!0,R||(d="loading"))}if(e.keepPreviousData&&!l.dataUpdateCount&&(g==null?void 0:g.isSuccess)&&d!=="error")p=g.data,R=g.dataUpdatedAt,d=g.status,k=!0;else if(e.select&&typeof l.data!="undefined")if(c&&l.data===(o==null?void 0:o.data)&&e.select===this.selectFn)p=this.selectResult;else try{this.selectFn=e.select,p=e.select(l.data),e.structuralSharing!==!1&&(p=$(c==null?void 0:c.data,p)),this.selectResult=p,this.selectError=null}catch(S){N().error(S),this.selectError=S}else p=l.data;if(typeof e.placeholderData!="undefined"&&typeof p=="undefined"&&(d==="loading"||d==="idle")){var y;if((c==null?void 0:c.isPlaceholderData)&&e.placeholderData===(h==null?void 0:h.placeholderData))y=c.data;else if(y=typeof e.placeholderData=="function"?e.placeholderData():e.placeholderData,e.select&&typeof y!="undefined")try{y=e.select(y),e.structuralSharing!==!1&&(y=$(c==null?void 0:c.data,y)),this.selectError=null}catch(S){N().error(S),this.selectError=S}typeof y!="undefined"&&(d="success",p=y,D=!0)}this.selectError&&(A=this.selectError,p=this.selectResult,x=Date.now(),d="error");var W={status:d,isLoading:d==="loading",isSuccess:d==="success",isError:d==="error",isIdle:d==="idle",data:p,dataUpdatedAt:R,error:A,errorUpdatedAt:x,failureCount:l.fetchFailureCount,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>v.dataUpdateCount||l.errorUpdateCount>v.errorUpdateCount,isFetching:P,isRefetching:P&&d!=="loading",isLoadingError:d==="error"&&l.dataUpdatedAt===0,isPlaceholderData:D,isPreviousData:k,isRefetchError:d==="error"&&l.dataUpdatedAt!==0,isStale:U(t,e),refetch:this.refetch,remove:this.remove};return W},n.shouldNotifyListeners=function(t,e){if(!e)return!0;var u=this.options,s=u.notifyOnChangeProps,c=u.notifyOnChangePropsExclusions;if(!s&&!c||s==="tracked"&&!this.trackedProps.length)return!0;var o=s==="tracked"?this.trackedProps:s;return Object.keys(t).some(function(h){var f=h,v=t[f]!==e[f],g=o==null?void 0:o.some(function(R){return R===h}),l=c==null?void 0:c.some(function(R){return R===h});return v&&!l&&(!o||g)})},n.updateResult=function(t){var e=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!X(this.currentResult,e)){var u={cache:!0};(t==null?void 0:t.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,e)&&(u.listeners=!0),this.notify(L({},u,t))}},n.updateQuery=function(){var t=this.client.getQueryCache().build(this.client,this.options);if(t!==this.currentQuery){var e=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))}},n.onQueryUpdate=function(t){var e={};t.type==="success"?e.onSuccess=!0:t.type==="error"&&!Y(t.error)&&(e.onError=!0),this.updateResult(e),this.hasListeners()&&this.updateTimers()},n.notify=function(t){var e=this;E.batch(function(){t.onSuccess?(e.options.onSuccess==null||e.options.onSuccess(e.currentResult.data),e.options.onSettled==null||e.options.onSettled(e.currentResult.data,null)):t.onError&&(e.options.onError==null||e.options.onError(e.currentResult.error),e.options.onSettled==null||e.options.onSettled(void 0,e.currentResult.error)),t.listeners&&e.listeners.forEach(function(u){u(e.currentResult)}),t.cache&&e.client.getQueryCache().notify({query:e.currentQuery,type:"observerResultsUpdated"})})},i}(Z);function ie(r,i){return i.enabled!==!1&&!r.state.dataUpdatedAt&&!(r.state.status==="error"&&i.retryOnMount===!1)}function z(r,i){return ie(r,i)||r.state.dataUpdatedAt>0&&F(r,i,i.refetchOnMount)}function F(r,i,n){if(i.enabled!==!1){var a=typeof n=="function"?n(r):n;return a==="always"||a!==!1&&U(r,i)}return!1}function V(r,i,n,a){return n.enabled!==!1&&(r!==i||a.enabled===!1)&&(!n.suspense||r.state.status!=="error")&&U(r,n)}function U(r,i){return r.isStaleByTime(i.staleTime)}function ae(r,i,n){return typeof i=="function"?i.apply(void 0,n):typeof i=="boolean"?i:!!r}function ue(r,i){var n=O.useRef(!1),a=O.useState(0),t=a[1],e=ee(),u=te(),s=e.defaultQueryObserverOptions(r);s.optimisticResults=!0,s.onError&&(s.onError=E.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=E.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=E.batchCalls(s.onSettled)),s.suspense&&(typeof s.staleTime!="number"&&(s.staleTime=1e3),s.cacheTime===0&&(s.cacheTime=1)),(s.suspense||s.useErrorBoundary)&&(u.isReset()||(s.retryOnMount=!1));var c=O.useState(function(){return new i(e,s)}),o=c[0],h=o.getOptimisticResult(s);if(O.useEffect(function(){n.current=!0,u.clearReset();var f=o.subscribe(E.batchCalls(function(){n.current&&t(function(v){return v+1})}));return o.updateResult(),function(){n.current=!1,f()}},[u,o]),O.useEffect(function(){o.setOptions(s,{listeners:!1})},[s,o]),s.suspense&&h.isLoading)throw o.fetchOptimistic(s).then(function(f){var v=f.data;s.onSuccess==null||s.onSuccess(v),s.onSettled==null||s.onSettled(v,null)}).catch(function(f){u.clearReset(),s.onError==null||s.onError(f),s.onSettled==null||s.onSettled(void 0,f)});if(h.isError&&!u.isReset()&&!h.isFetching&&ae(s.suspense,s.useErrorBoundary,[h.error,o.getCurrentQuery()]))throw h.error;return s.notifyOnChangeProps==="tracked"&&(h=o.trackResult(h,s)),h}function Q(r,i,n){var a=re(r,i,n);return ue(a,ne)}const oe=async r=>fetch(`./mock/userMainDataID${r}.json`).then(i=>i.json()),ce=async r=>fetch(`./mock/userActivityID${r}.json`).then(i=>i.json()),le=async r=>fetch(`./mock/userAverageSessionID${r}.json`).then(i=>i.json()),he=async r=>fetch(`./mock/userPerformanceID${r}.json`).then(i=>i.json());var C={getUserMain:oe,getUserActivity:ce,getUserAverageSession:le,getUserPerformance:he};const T=r=>{const i=parseInt(r,10);return i>=1e3?`${(i/1e3).toString().replace(".",",")}k`:i.toString()},de=r=>new Date(r).getDate(),fe=r=>`${["L","M","M","J","V","S","D"][r-1]}`,pe=({data:{userInfos:r,todayScore:i,keyData:n}})=>{const{firstName:a}=r,{calorieCount:t,proteinCount:e,carbohydrateCount:u,lipidCount:s}=n;return{firstName:a.toString(),todayScore:i*100,keyData:{calorieCount:`${T(t)}Cal`,proteinCount:`${T(e)}g`,carbohydrateCount:`${T(u)}g`,lipidCount:`${T(s)}g`}}},Ee=({data:{sessions:r}})=>r.map(i=>{const{day:n,kilogram:a,calories:t}=i;return{day:de(n),kilogram:parseInt(a,10),calories:parseInt(t,10)}}),Ie=({data:{sessions:r}})=>r.map(i=>{const{day:n,sessionLength:a}=i;return{day:fe(n).toString(),sessionLength:parseInt(a,10)}}),ve=r=>{switch(r){case"cardio":return"Cardio";case"energy":return"Energie";case"endurance":return"Endurance";case"strength":return"Force";case"speed":return"Vitesse";case"intensity":return"Intensit\xE9";default:return r.toString()}},Qe=({data:r})=>{const{kind:i,data:n}=r;return n.map(a=>{const{value:t,kind:e}=a;return{value:parseInt(t,10),kind:ve(i[e])}})};const ye=b.exports.lazy(()=>_(()=>import("./Activity.1cf8b61d.js"),["assets/Activity.1cf8b61d.js","assets/Activity.7b874676.css","assets/index.e9e7a360.js","assets/index.43ff5158.css","assets/generateCategoricalChart.d827f065.js","assets/YAxis.65fa6a1c.js"])),me=b.exports.lazy(()=>_(()=>import("./AverageSession.6b5327e5.js"),["assets/AverageSession.6b5327e5.js","assets/AverageSession.d1009226.css","assets/index.e9e7a360.js","assets/index.43ff5158.css","assets/generateCategoricalChart.d827f065.js","assets/YAxis.65fa6a1c.js"])),ge=b.exports.lazy(()=>_(()=>import("./Performance.54976f31.js"),["assets/Performance.54976f31.js","assets/Performance.1c87a429.css","assets/index.e9e7a360.js","assets/index.43ff5158.css","assets/generateCategoricalChart.d827f065.js"])),Re=b.exports.lazy(()=>_(()=>import("./TodayScore.bfa0d4f4.js"),["assets/TodayScore.bfa0d4f4.js","assets/TodayScore.19bfe6fb.css","assets/index.e9e7a360.js","assets/index.43ff5158.css"])),be=b.exports.lazy(()=>_(()=>import("./KeyData.82da974a.js"),["assets/KeyData.82da974a.js","assets/KeyData.cdaf8e25.css","assets/index.e9e7a360.js","assets/index.43ff5158.css"])),_e=b.exports.lazy(()=>_(()=>import("./index.e9e7a360.js").then(function(r){return r.E}),["assets/index.e9e7a360.js","assets/index.43ff5158.css"]));function Se(){const{id:r}=se(),{error:i,data:n}=Q(["userMain",r],()=>C.getUserMain(r)),{data:a}=Q(["userActivity",r],()=>C.getUserActivity(r)),{data:t}=Q(["userAverageSession",r],()=>C.getUserAverageSession(r)),{data:e}=Q(["userPerformance",r],()=>C.getUserPerformance(r)),{firstName:u,todayScore:s,keyData:c}=n&&pe(n);return i?m(_e,{error:i.message}):I("main",{className:"App-main",children:[I("h1",{className:"main__title",children:["Bonjour ",m("em",{children:u})]}),m("p",{className:"main__subtitle",children:"F\xE9licitation ! Vous avez explos\xE9 vos objectifs hier \u{1F44F}"}),I("div",{className:"dashboard__grid",children:[I("div",{className:"dashboard__charts",children:[m(ye,{data:a}),m(me,{data:t}),m(ge,{data:e}),m(Re,{data:s})]}),m(be,{data:c})]})]})}var Ce=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"}));export{Ce as D,Ee as a,Ie as b,Qe as p};
